
# NoPiX for Tailwind

NoPiX for Tailwind is a utility that enhances Tailwind CSS by allowing the use of arbitrary rem-based values with a scale of 1rem = 10px. It automatically scans all HTML files in your project, generates the corresponding CSS variables, and creates Tailwind utilities for seamless integration.

## Features

- **Automatic HTML analysis**: NoPiX scans all HTML files in all directories to detect rem-based classes (e.g., text-3rem, p-1.7rem).
- **Custom prefixes**: Define additional Tailwind prefixes in src/prefixes.js to extend functionality.
- **Dynamic CSS generation**: Generates nopix_theme.css (theme variables) and nopix_prefix.css (utilities) based on detected classes.
- **Scale 1rem = 10px**: Converts rem-based classes (e.g., p-1.7rem) to pixel values (e.g., 17px) for properties requiring adjustment.

## Project structure

After installation, your NoPiX Tailwind project includes:

- **src/**: Contains configuration and style files.
- **src/input.css**: Entry file for TailwindCSS.
- **src/output.css**: CSS file generated by TailwindCSS.
- **src/nopix_theme.css**: Contains theme variables (e.g., --1rem: 10px).
- **src/nopix_prefix.css**: Contains generated utilities.
- **src/nopix_script.js**: Script to sync HTML classes with CSS files.
- **src/prefixes.js**: Defines supported prefixes and properties.

## Supported prefixes

NoPiX supports a wide range of prefixes for styling with rem-based values. Here are the supported prefixes, categorized by whether they require rem adjustment (conversion to pixels).

### Prefixes with Rem Adjustment
These prefixes convert rem values to pixels (e.g., 1rem = 10px).

| Prefix                      | CSS Property                    | Example class           | Result                      |
|-----------------------------|----------------------------------|-------------------------|-----------------------------|
| `align-`                   | `vertical-align`                | `align-1.5rem`        | `vertical-align: 15px`       |
| `backdrop-`                | `backdrop-filter`               | `backdrop-1rem`       | `backdrop-filter: 10px`      |
| `baseline-shift-`          | `baseline-shift`                | `baseline-shift-1rem` | `baseline-shift: 10px`       |
| `basis-`                   | `flex-basis`                    | `basis-2rem`          | `flex-basis: 20px`           |
| `bg-pos-x-`                | `background-position-x`         | `bg-pos-x-1rem`       | `background-position-x: 10px`|
| `bg-pos-y-`                | `background-position-y`         | `bg-pos-y-1rem`       | `background-position-y: 10px`|
| `blur-`                    | `blur`                          | `blur-0.5rem`         | `blur: 5px`                  |
| `border-`                  | `border-width`                  | `border-0.2rem`       | `border-width: 2px`          |
| `border-image-outset-`     | `border-image-outset`           | `border-image-outset-1rem` | `border-image-outset: 10px` |
| `border-image-width-`      | `border-image-width`            | `border-image-width-1rem` | `border-image-width: 10px` |
| `border-spacing-`          | `border-spacing`                | `border-spacing-1rem` | `border-spacing: 10px`       |
| `clip-path-`               | `clip-path`                     | `clip-path-1rem`      | `clip-path: 10px`            |
| `col-gap-`                 | `column-gap`                    | `col-gap-2rem`        | `column-gap: 20px`           |
| `column-rule-`             | `column-rule-width`             | `column-rule-0.5rem`  | `column-rule-width: 5px`     |
| `columns-`                 | `columns`                       | `columns-3rem`        | `columns: 30px`              |
| `decoration-`              | `text-decoration-thickness`     | `decoration-0.2rem`   | `text-decoration-thickness: 2px` |
| `drop-shadow-`             | `drop-shadow`                   | `drop-shadow-1rem`    | `drop-shadow: 10px`          |
| `gap-`                     | `gap`                           | `gap-1.5rem`          | `gap: 15px`                  |
| `grid-cols-`               | `grid-template-columns`         | `grid-cols-4rem`      | `grid-template-columns: 40px`|
| `grid-rows-`               | `grid-template-rows`            | `grid-rows-3rem`      | `grid-template-rows: 30px`   |
| `h-`                       | `height`                        | `h-5rem`              | `height: 50px`               |
| `inset-`                   | `inset`                         | `inset-1rem`          | `inset: 10px`                |
| `leading-`                 | `line-height`                   | `leading-2rem`        | `line-height: 20px`          |
| `left-`                    | `left`                          | `left-1rem`           | `left: 10px`                 |
| `m-`                       | `margin`                        | `m-2rem`              | `margin: 20px`               |
| `mask-border-outset-`      | `mask-border-outset`            | `mask-border-outset-1rem` | `mask-border-outset: 10px` |
| `mask-border-width-`       | `mask-border-width`             | `mask-border-width-1rem` | `mask-border-width: 10px` |
| `mask-position-`           | `mask-position`                 | `mask-position-1rem`  | `mask-position: 10px`        |
| `mask-size-`               | `mask-size`                     | `mask-size-2rem`      | `mask-size: 20px`            |
| `max-h-`                   | `max-height`                    | `max-h-10rem`         | `max-height: 100px`          |
| `max-w-`                   | `max-width`                     | `max-w-20rem`         | `max-width: 200px`           |
| `mb-`                      | `margin-bottom`                 | `mb-1rem`             | `margin-bottom: 10px`        |
| `min-h-`                   | `min-height`                    | `min-h-5rem`          | `min-height: 50px`           |
| `min-w-`                   | `min-width`                     | `min-w-3rem`          | `min-width: 30px`            |
| `ml-`                      | `margin-left`                   | `ml-1.5rem`           | `margin-left: 15px`          |
| `mr-`                      | `margin-right`                  | `mr-1rem`             | `margin-right: 10px`         |
| `mt-`                      | `margin-top`                    | `mt-2rem`             | `margin-top: 20px`           |
| `outline-`                 | `outline-width`                 | `outline-0.3rem`      | `outline-width: 3px`         |
| `p-`                       | `padding`                       | `p-1.7rem`            | `padding: 17px`              |
| `pb-`                      | `padding-bottom`                | `pb-1rem`             | `padding-bottom: 10px`       |
| `perspective-`             | `perspective`                   | `perspective-10rem`   | `perspective: 100px`         |
| `perspective-origin-`      | `perspective-origin`            | `perspective-origin-1rem` | `perspective-origin: 10px` |
| `pl-`                      | `padding-left`                  | `pl-2rem`             | `padding-left: 20px`         |
| `pr-`                      | `padding-right`                 | `pr-1rem`             | `padding-right: 10px`        |
| `pt-`                      | `padding-top`                   | `pt-1.5rem`           | `padding-top: 15px`          |
| `right-`                   | `right`                         | `right-1rem`          | `right: 10px`                |
| `ring-`                    | `ring-width`                    | `ring-0.2rem`         | `ring-width: 2px`            |
| `ring-offset-`             | `ring-offset-width`             | `ring-offset-0.5rem`  | `ring-offset-width: 5px`     |
| `rounded-`                 | `border-radius`                 | `rounded-1rem`        | `border-radius: 10px`        |
| `row-gap-`                 | `row-gap`                       | `row-gap-2rem`        | `row-gap: 20px`              |
| `scroll-m-`                | `scroll-margin`                 | `scroll-m-1rem`       | `scroll-margin: 10px`        |
| `scroll-mb-`               | `scroll-margin-bottom`          | `scroll-mb-1rem`      | `scroll-margin-bottom: 10px` |
| `scroll-ml-`               | `scroll-margin-left`            | `scroll-ml-1rem`      | `scroll-margin-left: 10px`   |
| `scroll-mr-`               | `scroll-margin-right`           | `scroll-mr-1rem`      | `scroll-margin-right: 10px`  |
| `scroll-mt-`               | `scroll-margin-top`             | `scroll-mt-1rem`      | `scroll-margin-top: 10px`    |
| `scroll-p-`                | `scroll-padding`                | `scroll-p-1rem`       | `scroll-padding: 10px`       |
| `scroll-pb-`               | `scroll-padding-bottom`         | `scroll-pb-1rem`      | `scroll-padding-bottom: 10px`|
| `scroll-pl-`               | `scroll-padding-left`           | `scroll-pl-1rem`      | `scroll-padding-left: 10px`  |
| `scroll-pr-`               | `scroll-padding-right`          | `scroll-pr-1rem`      | `scroll-padding-right: 10px` |
| `scroll-pt-`               | `scroll-padding-top`            | `scroll-pt-1rem`      | `scroll-padding-top: 10px`   |
| `scroll-snap-m-`           | `scroll-snap-margin`            | `scroll-snap-m-1rem`  | `scroll-snap-margin: 10px`   |
| `scrollbar-gutter-`        | `scrollbar-gutter`              | `scrollbar-gutter-1rem` | `scrollbar-gutter: 10px`   |
| `scrollbar-width-`         | `scrollbar-width`               | `scrollbar-width-0.5rem` | `scrollbar-width: 5px`    |
| `shadow-`                  | `box-shadow`                    | `shadow-1rem`         | `box-shadow: 0 0 10px rgba(0,0,0,0.1)` |
| `text-`                    | `font-size`                     | `text-3rem`           | `font-size: 30px`            |
| `text-indent-edge-`        | `text-indent-edge`              | `text-indent-edge-1rem` | `text-indent-edge: 10px`   |
| `text-shadow-`             | `text-shadow`                   | `text-shadow-0.5rem`  | `text-shadow: 5px`           |
| `top-`                     | `top`                           | `top-1rem`            | `top: 10px`                  |
| `tracking-`                | `letter-spacing`                | `tracking-0.2rem`     | `letter-spacing: 2px`        |
| `transform-origin-`        | `transform-origin`              | `transform-origin-1rem` | `transform-origin: 10px`   |
| `translate-x-`             | `translate-x`                   | `translate-x-2rem`    | `translate-x: 20px`          |
| `translate-y-`             | `translate-y`                   | `translate-y-1rem`    | `translate-y: 10px`          |
| `underline-offset-`        | `text-underline-offset`         | `underline-offset-0.3rem` | `text-underline-offset: 3px` |
| `w-`                       | `width`                         | `w-10rem`             | `width: 100px`               |

### Préfixes sans ajustement Rem
Ces préfixes utilisent les valeurs `rem` telles quelles, sans conversion en pixels. Notez que certaines propriétés peuvent ne pas interpréter les valeurs `rem` de manière significative (par ex., `font-weight`).

| Préfixe                     | Propriété CSS                    | Exemple de classe       | Résultat                      |
|-----------------------------|----------------------------------|-------------------------|-------------------------------|
| `accent-`                  | `accent-color`                  | `accent-1rem`         | `accent-color: 1rem`         |
| `animation-`               | `animation`                     | `animation-1rem`      | `animation: 1rem`            |
| `animation-delay-`         | `animation-delay`               | `animation-delay-1rem`| `animation-delay: 1rem`      |
| `animation-duration-`      | `animation-duration`            | `animation-duration-1rem` | `animation-duration: 1rem` |
| `animation-timing-`        | `animation-timing-function`     | `animation-timing-1rem` | `animation-timing-function: 1rem` |
| `appearance-`              | `appearance`                    | `appearance-1rem`     | `appearance: 1rem`           |
| `aspect-`                  | `aspect-ratio`                  | `aspect-1rem`         | `aspect-ratio: 1rem`         |
| `bg-`                      | `background`                    | `bg-1rem`             | `background: 1rem`           |
| `bg-clip-`                 | `background-clip`               | `bg-clip-1rem`        | `background-clip: 1rem`      |
| `bg-repeat-`               | `background-repeat`             | `bg-repeat-1rem`      | `background-repeat: 1rem`    |
| `border-image-slice-`      | `border-image-slice`            | `border-image-slice-1rem` | `border-image-slice: 1rem` |
| `caption-side-`            | `caption-side`                  | `caption-side-1rem`   | `caption-side: 1rem`         |
| `clear-`                   | `clear`                         | `clear-1rem`          | `clear: 1rem`                |
| `col-end-`                 | `grid-column-end`               | `col-end-1rem`        | `grid-column-end: 1rem`      |
| `col-start-`               | `grid-column-start`             | `col-start-1rem`      | `grid-column-start: 1rem`    |
| `container-name-`          | `container-name`                | `container-name-1rem` | `container-name: 1rem`       |
| `container-type-`          | `container-type`                | `container-type-1rem` | `container-type: 1rem`       |
| `content-`                 | `content`                       | `content-1rem`        | `content: 1rem`              |
| `counter-increment-`       | `counter-increment`             | `counter-increment-1rem` | `counter-increment: 1rem` |
| `flex-`                    | `flex`                          | `flex-1rem`           | `flex: 1rem`                 |
| `font-`                    | `font-weight`                   | `font-1rem`           | `font-weight: 1rem`          |
| `font-feature-`            | `font-feature-settings`         | `font-feature-1rem`   | `font-feature-settings: 1rem`|
| `font-kerning-`            | `font-kerning`                  | `font-kerning-1rem`   | `font-kerning: 1rem`         |
| `font-optical-sizing-`     | `font-optical-sizing`           | `font-optical-sizing-1rem` | `font-optical-sizing: 1rem` |
| `font-palette-`            | `font-palette`                  | `font-palette-1rem`   | `font-palette: 1rem`         |
| `font-stretch-`            | `font-stretch`                  | `font-stretch-1rem`   | `font-stretch: 1rem`         |
| `font-synthesis-`          | `font-synthesis`                | `font-synthesis-1rem` | `font-synthesis: 1rem`       |
| `font-variation-`          | `font-variation-settings`       | `font-variation-1rem` | `font-variation-settings: 1rem` |
| `hyphenate-character-`     | `hyphenate-character`           | `hyphenate-character-1rem` | `hyphenate-character: 1rem` |
| `hyphenate-limit-chars-`   | `hyphenate-limit-chars`         | `hyphenate-limit-chars-1rem` | `hyphenate-limit-chars: 1rem` |
| `initial-letter-`          | `initial-letter`                | `initial-letter-1rem` | `initial-letter: 1rem`       |
| `rotate-`                  | `rotate`                        | `rotate-1rem`         | `rotate: 1rem`               |
| `row-end-`                 | `grid-row-end`                  | `row-end-1rem`        | `grid-row-end: 1rem`         |
| `row-start-`               | `grid-row-start`                | `row-start-1rem`      | `grid-row-start: 1rem`       |
| `scale-`                   | `scale`                         | `scale-1rem`          | `scale: 1rem`                |
| `scroll-behavior-`         | `scroll-behavior`               | `scroll-behavior-1rem`| `scroll-behavior: 1rem`      |
| `scroll-snap-align-`       | `scroll-snap-align`             | `scroll-snap-align-1rem` | `scroll-snap-align: 1rem` |
| `scroll-snap-stop-`        | `scroll-snap-stop`              | `scroll-snap-stop-1rem` | `scroll-snap-stop: 1rem`  |
| `scroll-snap-type-`        | `scroll-snap-type`              | `scroll-snap-type-1rem` | `scroll-snap-type: 1rem`  |
| `scroll-timeline-`         | `scroll-timeline`               | `scroll-timeline-1rem` | `scroll-timeline: 1rem`   |
| `skew-x-`                  | `skew-x`                        | `skew-x-1rem`         | `skew-x: 1rem`               |
| `skew-y-`                  | `skew-y`                        | `skew-y-1rem`         | `skew-y: 1rem`               |
| `text-align-last-`         | `text-align-last`               | `text-align-last-1rem` | `text-align-last: 1rem`     |
| `text-edge-`               | `text-edge`                     | `text-edge-1rem`      | `text-edge: 1rem`            |
| `text-emphasis-position-`  | `text-emphasis-position`        | `text-emphasis-position-1rem` | `text-emphasis-position: 1rem` |
| `text-justify-`            | `text-justify`                  | `text-justify-1rem`   | `text-justify: 1rem`         |
| `text-overflow-`           | `text-overflow`                 | `text-overflow-1rem`  | `text-overflow: 1rem`        |
| `text-size-adjust-`        | `text-size-adjust`              | `text-size-adjust-1rem` | `text-size-adjust: 1rem`   |
| `text-spacing-`            | `text-spacing`                  | `text-spacing-1rem`   | `text-spacing: 1rem`         |
| `text-wrap-mode-`          | `text-wrap-mode`                | `text-wrap-mode-1rem` | `text-wrap-mode: 1rem`       |
| `transition-`              | `transition`                    | `transition-1rem`     | `transition: 1rem`           |


**Note**: For prefixes without rem adjustment, rem values may not always produce meaningful results (e.g., font-1rem for font-weight expects a number like 400). Use these prefixes with caution and check browser behavior.

## Installation

To set up NoPiX for Tailwind, follow these steps:

1. **Make sure Node.js is installed**  
   Download and install Node.js from [nodejs.org](https://nodejs.org/) if you haven't already.

2. **Run the installation script**  
   Place the install.js script in your project directory and run:
   
       node install.js

   This script creates the necessary files (package.json, tailwind.config.js, postcss.config.mjs, src/ directory, etc.) and installs the dependencies (tailwindcss, postcss, npm-run-all).

3. **Install dependencies**  
   After running install.js, install the dependencies:
   
       npm install

4. **Update Browserslist**  
   Ensure browser compatibility by updating Browserslist:
   
       npm run update-browserslist

## Step-by-step guide

To start using NoPiX Tailwind:

1. **Open a terminal**  
   Navigate to your project directory (where package.json is located).

2. **Run the NoPiX script**  
   Start the generation and watch processes:
   
       npm run nopix

   This runs generate (to scan HTML files and generate CSS) and watch (to compile Tailwind CSS) in parallel.

3. **Edit HTML files**  
   Add NoPiX Tailwind classes like text-3rem or p-1.7rem to your HTML files (e.g., welcome.html or any HTML file in any directory).  
   **Important**: Make sure the <link> tag points to src/output.css.  
   - For files at the root (e.g., welcome.html):  
     
         <link href="src/output.css" rel="stylesheet">
     
   - For files in subdirectories (e.g., components/index.html):  
     
         <link href="../src/output.css" rel="stylesheet">
     
   - With Vite, use:  
     
         <link href="/src/output.css" rel="stylesheet">
     
   Always adjust the path according to the file's location.

4. **Monitor updates**  
   The nopix_theme.css and nopix_prefix.css files will be automatically updated when you modify your HTML files, thanks to the nopix_script.js script.

5. **View the results**  
   Open your HTML files in a browser, preferably via a local server (e.g., Vite) to avoid CORS issues when loading CSS files.

## Troubleshooting

- **The npm run nopix script does not generate CSS**  
  - Check that Node.js is installed and that node -v returns a version.
  - Make sure dependencies are installed (npm install).
  - Check that your HTML files contain valid classes (e.g., text-3rem, not text-3px).
  - Check the console logs for errors.

- **Styles are not applied**  
  - Check that the <link> tag in your HTML files correctly points to src/output.css.
  - Make sure npm run nopix is running to generate and watch the CSS files.
  - Check that the classes used in your HTML match the supported prefixes (see the "Supported Prefixes" section).

- **File path errors**  
  - If you are working in subdirectories, adjust the paths in the <link> tag (e.g., ../src/output.css for a file in a subdirectory).
  - With Vite, use absolute paths (e.g., /src/output.css).

- **Browser compatibility issues**  
  - Run npm run update-browserslist to update the Browserslist database.
  - Check compatibility of experimental CSS properties (e.g., text-edge-) on Can I Use (https://caniuse.com/).

## Changelog

- **v1.5**: Added support for scanning all HTML files in all directories, improved parsing of rem-based classes (e.g., text-3rem, p-1.7rem).
- **v1.4**: Added requiresRemAdjustment in prefixes.js to differentiate properties requiring rem conversion, renamed to "NoPiX Tailwind".
- **v1.3**: Extended prefixes.js with new Tailwind properties supporting arbitrary values (translate-, rotate-, etc.).
- **v1.2**: Added error handling for file access (e.g., tellcss_prefix.css → nopix_prefix.css) with asynchronous writing.
- **v1.1**: Fixed a bug in nopix_script.js to avoid redundant variables (e.g., --fontSize-3 and --fontSize-3rem).
- **v1.0**: Initial version with basic support for rem-based classes (text-, p-, m-, etc.).

## License

This project is licensed under the MIT License. See the LICENSE file for more details.

Happy coding with NoPiX Tailwind! 🚀
